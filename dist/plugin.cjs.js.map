{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst CapacitorCalendar = registerPlugin('CapacitorCalendar', {\n    web: () => import('./web').then(m => new m.CapacitorCalendarWeb()),\n});\nexport * from './definitions';\nexport { CapacitorCalendar };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class CapacitorCalendarWeb extends WebPlugin {\n    async saveEventToCalendar(options) {\n        const { eventTitle, eventDescription, startDate, endDate, location } = options;\n        const dtstart = new Date(startDate || new Date().getTime());\n        const dtend = new Date(endDate ||\n            new Date(new Date().setHours(new Date().getHours() + 1)).getTime());\n        const calendar = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//ZContent.net//Zap Calendar 1.0//EN\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nBEGIN:VEVENT\nSUMMARY:${eventTitle}\nUID:${Math.random().toString()}\nSEQUENCE:0\nSTATUS:CONFIRMED\nTRANSP:TRANSPARENT\nDTSTART:${dtstart.getFullYear().toPrecision(4)}${(dtstart.getMonth() + 1).toPrecision(2)}${dtstart.getDate().toPrecision(2)}T${dtstart\n            .getHours()\n            .toPrecision(2)}${dtstart.getMinutes().toPrecision(2)}${dtstart\n            .getMilliseconds()\n            .toPrecision(3)}\nDTEND:${dtend.getFullYear().toPrecision(4)}${(dtend.getMonth() + 1).toPrecision(2)}${dtend.getDate().toPrecision(2)}T${dtend\n            .getHours()\n            .toPrecision(2)}${dtend.getMinutes().toPrecision(2)}${dtend\n            .getMilliseconds()\n            .toPrecision(3)}\nLOCATION:${location}\nDESCRIPTION:${this.stripTagsAndFormatters(eventDescription)}\nX-ALT-DESC:${eventDescription}\nEND:VEVENT\nEND:VCALENDAR`;\n        const blob = new File([calendar], 'calendar.ics');\n        const a = document.createElement('a');\n        a.href = URL.createObjectURL(blob);\n        a.download = 'calendar.ics';\n        a.rel = 'noopener';\n        a.click();\n        return;\n    }\n    stripTagsAndFormatters(value, inline = false) {\n        if (!value)\n            return '';\n        const stripped = value\n            .replace(/<[^>]*>?/gm, '')\n            .replace(/\\*\\*/gm, '')\n            .replace(/--/gm, '')\n            .replace(/__/gm, '')\n            .replace(/~~/gm, '')\n            .replace(/```/gm, '');\n        return inline ? stripped.replace(/\\n/gm, ' ') : stripped;\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}