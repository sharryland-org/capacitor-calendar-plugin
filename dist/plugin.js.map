{"version":3,"file":"plugin.js","sources":["esm/index.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst CapacitorCalendar = registerPlugin('CapacitorCalendar', {\n    web: () => import('./web').then(m => new m.CapacitorCalendarWeb()),\n});\nexport * from './definitions';\nexport { CapacitorCalendar };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class CapacitorCalendarWeb extends WebPlugin {\n    async saveEventToCalendar(options) {\n        const { eventTitle, eventDescription, startDate, endDate, location } = options;\n        const dtstart = new Date(startDate || new Date().getTime());\n        const dtend = new Date(endDate ||\n            new Date(new Date().setHours(new Date().getHours() + 1)).getTime());\n        const calendar = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//ZContent.net//Zap Calendar 1.0//EN\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nBEGIN:VEVENT\nSUMMARY:${eventTitle}\nUID:${Math.random().toString()}\nSEQUENCE:0\nSTATUS:CONFIRMED\nTRANSP:TRANSPARENT\nDTSTART:${dtstart.toISOString()}\nDTEND:${dtend.toISOString()}\nLOCATION:${location}\nDESCRIPTION:${this.stripTagsAndFormatters(eventDescription)}\nX-ALT-DESC:${eventDescription}\nEND:VEVENT\nEND:VCALENDAR`;\n        const blob = new File([calendar], 'calendar.ics');\n        const a = document.createElement('a');\n        a.href = URL.createObjectURL(blob);\n        a.download = 'calendar.ics';\n        a.rel = 'noopener';\n        a.click();\n        return;\n    }\n    stripTagsAndFormatters(value, inline = false) {\n        if (!value)\n            return '';\n        const stripped = value\n            .replace(/<[^>]*>?/gm, '')\n            .replace(/\\*\\*/gm, '')\n            .replace(/--/gm, '')\n            .replace(/__/gm, '')\n            .replace(/~~/gm, '')\n            .replace(/```/gm, '');\n        return inline ? stripped.replace(/\\n/gm, ' ') : stripped;\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":";;;AACK,UAAC,iBAAiB,GAAGA,mBAAc,CAAC,mBAAmB,EAAE;IAC9D,IAAI,GAAG,EAAE,MAAM,mDAAe,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,oBAAoB,EAAE,CAAC;IACtE,CAAC;;ICFM,MAAM,oBAAoB,SAASC,cAAS,CAAC;IACpD,IAAI,MAAM,mBAAmB,CAAC,OAAO,EAAE;IACvC,QAAQ,MAAM,EAAE,UAAU,EAAE,gBAAgB,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAC;IACvF,QAAQ,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;IACpE,QAAQ,MAAM,KAAK,GAAG,IAAI,IAAI,CAAC,OAAO;IACtC,YAAY,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;IAChF,QAAQ,MAAM,QAAQ,GAAG,CAAC;AAC1B;AACA;AACA;AACA;AACA;AACA,QAAQ,EAAE,UAAU,CAAC;AACrB,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC;AAC/B;AACA;AACA;AACA,QAAQ,EAAE,OAAO,CAAC,WAAW,EAAE,CAAC;AAChC,MAAM,EAAE,KAAK,CAAC,WAAW,EAAE,CAAC;AAC5B,SAAS,EAAE,QAAQ,CAAC;AACpB,YAAY,EAAE,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;AAC5D,WAAW,EAAE,gBAAgB,CAAC;AAC9B;AACA,aAAa,CAAC,CAAC;IACf,QAAQ,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,EAAE,cAAc,CAAC,CAAC;IAC1D,QAAQ,MAAM,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;IAC9C,QAAQ,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAC3C,QAAQ,CAAC,CAAC,QAAQ,GAAG,cAAc,CAAC;IACpC,QAAQ,CAAC,CAAC,GAAG,GAAG,UAAU,CAAC;IAC3B,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;IAClB,QAAQ,OAAO;IACf,KAAK;IACL,IAAI,sBAAsB,CAAC,KAAK,EAAE,MAAM,GAAG,KAAK,EAAE;IAClD,QAAQ,IAAI,CAAC,KAAK;IAClB,YAAY,OAAO,EAAE,CAAC;IACtB,QAAQ,MAAM,QAAQ,GAAG,KAAK;IAC9B,aAAa,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;IACtC,aAAa,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;IAClC,aAAa,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;IAChC,aAAa,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;IAChC,aAAa,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;IAChC,aAAa,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IAClC,QAAQ,OAAO,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,QAAQ,CAAC;IACjE,KAAK;IACL;;;;;;;;;;;;;;;;;"}